=================
Управление сайтом
=================

Для административных задач и помощи в разработке используется скин из
ice.control: http://localhost:8080/++skin++control

Начало работы
=============

Ниже приведена пошаговая инструкция по тому, что нажимать и куда кликать.

На свежей базе данных нужно открыть URL: http://localhost:8080/++skin++control
(на этот адрес ведет ссылка `Admin UI` из http://localhost:8080 )

- Залогиниться (admin:admin, см. etc/site.zcml)
- открыть детальный вид на корневом объекте
- открыть форму `Add Site`
- выбрать имя (предположим, выбрано имя `site`)
- нажать кнопку `Добавить`. 
- закрыть (или свернуть) детальный вид корневого объекта.
- обновить вид дерева, нажав на треугольник напротив корневого объекта
  2 раза (т.е. свернуть и снова развернуть).
- открыть детальный вид на локальном сайте (`site`), форму `Configurators`.
- запустить конфигуратор `Upgrade`.

Конфигураторы
=============

Список конфигураторов может быть большой. Каждый из них совершает определенные
действия с локальными компонентами в базе данных. Конфигураторы могут зависеть
друг от друга. В этом случае такие зависимости разрешаются, и все необходимые
конфигураторы запускаются в нужном порядке.

Особое значение имеют 2 конфигуратора.

Кофигуратор `_initialize` запускается автоматически при добавлении локального
сайта. Т.е. нам этот конфигуратор уже запускать никогда не требуется.

Конфигуратор `Upgrade` сам ничего не делает, но зависит от других конфигураторов,
т.е. его роль сводится к их запуску. Именно его нужно запускать при обновлении
кода. Также его необходимо запустить и в первый раз, на свежей базе данных, чтобы
"заселить" сайт всеми необходимыми локальными компонентами.

Инструкция по запуску конфигуратора
===================================

- выбрать его в левом списке. Можно выбирать сразу несколько.

- нажать кнопку с изображенной на ней стрелкой вправо. При этом выбранный
  конфигуратор "переместится" в правый список.

- нажать кнопку "Update". При этом появится новая кнопка - "Apply".

- возможно, появятся новые поля для введения необходимой информации. Тогда
  нужно их заполнить.

- нажать кнопку "Apply".

- если нужно выбрать еще конфигураторы, то сначала необходимо нажать кнопку
  "Update".

Это все. Теперь можно открыть сайт, зайдя по адресу http://localhost:8080
и выбрав в списке ссылку на появившийся сайт.

Использование административных видов другими пользователями
===========================================================

Пользователи (не-системные) с правами ice.control.View могут
открывать дерево на любом уровне иерархии контента. Например,
http://localhost:8080/++skin++control/site/++control++
